/* Berry Blending Styles - Compact & Consistent */
.berry-blending {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
  line-height: 1.5;
  --berry-accent: #d66020;
  --berry-accent-strong: #a84810;
}

.berry-header h2 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 700;
  color: #2d2d2d;
  letter-spacing: -0.01em;
}

.berry-header p {
  margin: 0.25rem 0 1rem 0;
  color: #424242;
  font-size: 0.9rem;
}

/* Mode Selector */
.berry-mode-selector {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0;
  padding: 0.75rem;
  background: #f4d03f;
  border-radius: 12px 12px 0 0;
  border: 2px solid #d66020;
  border-bottom: none;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
}

.berry-mode-selector button,
.berry-mode-selector a {
  padding: 0.5rem 1rem;
  background: #fffbf5;
  border: 2px solid #8b6914;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.85rem;
  font-weight: 500;
  color: #2d2d2d;
  transition: all 0.2s;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  text-decoration: none;
  display: inline-block;
  text-align: center;
}

.berry-mode-selector .nav-arrow {
  background: transparent;
  border: none;
  color: #5a8cc8;
  padding: 0.25rem;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: none;
  cursor: pointer;
  transition: all 0.2s;
}

.berry-mode-selector .nav-arrow:hover {
  color: #4278b0;
  transform: scale(1.05);
}

.berry-mode-selector .nav-arrow:active {
  transform: scale(0.95);
}

.berry-mode-selector button:hover:not(.active),
.berry-mode-selector a:hover:not(.active) {
  background: #fff;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
  border-color: #b8461a;
  transform: translateY(-2px);
}

.berry-mode-selector button.active,
.berry-mode-selector a.active {
  background: #fff;
  color: #0b0b0b;
  border-color: #d66020;
  border-width: 3px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), inset 0 1px 2px rgba(255, 255, 255, 0.5);
  font-weight: 700;
}

.berry-mode-content {
  padding: 1.5rem;
  background:
    repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 8px,
      rgba(214, 96, 32, 0.04) 8px,
      rgba(214, 96, 32, 0.04) 9px
    ),
    linear-gradient(135deg, #fff8e1 0%, #fffaf0 100%);
  border: 2px solid #d66020;
  border-top: none;
  border-radius: 0 0 12px 12px;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* Cards and Messages */
.berry-blending .hint {
  color: #424242;
  font-style: italic;
  margin: 0.75rem 0;
  font-size: 0.9rem;
  padding: 0.75rem;
  background: #fff7e8;
  border-left: 3px solid #d66020;
  border-radius: 10px;
  text-align: center;
}

.berry-coming-card {
  background: #fff7e8;
  padding: 1.25rem;
  border-radius: 10px;
  border: 2px solid #d66020;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  text-align: center;
}

.berry-coming-card h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.1rem;
  font-weight: 700;
  color: #d66020;
}

.berry-coming-card p {
  margin: 0;
  color: #424242;
  font-size: 0.9rem;
}

/* RSE Blending */
.rse-blending h3 {
  margin: -1.5rem -1.5rem 0 -1.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  background:
    linear-gradient(
      to bottom,
      transparent 0px,
      transparent 20px,
      rgba(214, 96, 32, 0.5) 20px,
      rgba(214, 96, 32, 0.5) 24px,
      transparent 24px,
      transparent 28px,
      rgba(214, 96, 32, 0.5) 28px,
      rgba(214, 96, 32, 0.5) 32px,
      transparent 32px,
      transparent 36px,
      rgba(214, 96, 32, 0.5) 36px,
      rgba(214, 96, 32, 0.5) 40px,
      transparent 40px,
      transparent 44px,
      rgba(214, 96, 32, 0.5) 44px,
      rgba(214, 96, 32, 0.5) 48px,
      transparent 48px,
      transparent 100%
    ),
    #f4d03f;
  border: none;
  border-bottom: 2px solid #d66020;
  padding: 0.6rem 1.5rem;
  letter-spacing: 0.02em;
  text-align: center;
}

.rse-blending h3 > span {
  display: inline-block;
  background:
    linear-gradient(to right,
      rgba(0, 0, 0, 0.3) 0%,
      rgba(0, 0, 0, 0) 8%,
      rgba(0, 0, 0, 0) 92%,
      rgba(0, 0, 0, 0.3) 100%),
    linear-gradient(135deg, #e8793e 0%, #d86830 50%, #c05528 100%);
  border: 3px solid #6b2f0a;
  border-radius: 12px;
  padding: 0.6rem 1.5rem;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
  box-shadow:
    inset 0 2px 3px rgba(255, 255, 255, 0.15),
    inset 0 -2px 3px rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.2);
}

.rse-blending .blending-options {
  margin-top: 0.75rem;
}

/* DPPt Blending */
.dppt-blending h3 {
  margin: -1.5rem -1.5rem 0 -1.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  background:
    linear-gradient(
      to bottom,
      transparent 0px,
      transparent 20px,
      rgba(214, 96, 32, 0.5) 20px,
      rgba(214, 96, 32, 0.5) 24px,
      transparent 24px,
      transparent 28px,
      rgba(214, 96, 32, 0.5) 28px,
      rgba(214, 96, 32, 0.5) 32px,
      transparent 32px,
      transparent 36px,
      rgba(214, 96, 32, 0.5) 36px,
      rgba(214, 96, 32, 0.5) 40px,
      transparent 40px,
      transparent 44px,
      rgba(214, 96, 32, 0.5) 44px,
      rgba(214, 96, 32, 0.5) 48px,
      transparent 48px,
      transparent 100%
    ),
    #f4d03f;
  border: none;
  border-bottom: 2px solid #d66020;
  padding: 0.6rem 1.5rem;
  letter-spacing: 0.02em;
  text-align: center;
}

.dppt-blending h3 > span {
  display: inline-block;
  background:
    linear-gradient(to right,
      rgba(0, 0, 0, 0.3) 0%,
      rgba(0, 0, 0, 0) 8%,
      rgba(0, 0, 0, 0) 92%,
      rgba(0, 0, 0, 0.3) 100%),
    linear-gradient(135deg, #e8793e 0%, #d86830 50%, #c05528 100%);
  border: 3px solid #6b2f0a;
  border-radius: 12px;
  padding: 0.6rem 1.5rem;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
  box-shadow:
    inset 0 2px 3px rgba(255, 255, 255, 0.15),
    inset 0 -2px 3px rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.2);
}

.dppt-blending .blending-options {
  margin-top: 0.75rem;
}

/* BDSP Blending */
.bdsp-blending h3 {
  margin: -1.5rem -1.5rem 0 -1.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  background:
    linear-gradient(
      to bottom,
      transparent 0px,
      transparent 20px,
      rgba(214, 96, 32, 0.5) 20px,
      rgba(214, 96, 32, 0.5) 24px,
      transparent 24px,
      transparent 28px,
      rgba(214, 96, 32, 0.5) 28px,
      rgba(214, 96, 32, 0.5) 32px,
      transparent 32px,
      transparent 36px,
      rgba(214, 96, 32, 0.5) 36px,
      rgba(214, 96, 32, 0.5) 40px,
      transparent 40px,
      transparent 44px,
      rgba(214, 96, 32, 0.5) 44px,
      rgba(214, 96, 32, 0.5) 48px,
      transparent 48px,
      transparent 100%
    ),
    #f4d03f;
  border: none;
  border-bottom: 2px solid #d66020;
  padding: 0.6rem 1.5rem;
  letter-spacing: 0.02em;
  text-align: center;
}

.bdsp-blending h3 > span {
  display: inline-block;
  background:
    linear-gradient(to right,
      rgba(0, 0, 0, 0.3) 0%,
      rgba(0, 0, 0, 0) 8%,
      rgba(0, 0, 0, 0) 92%,
      rgba(0, 0, 0, 0.3) 100%),
    linear-gradient(135deg, #e8793e 0%, #d86830 50%, #c05528 100%);
  border: 3px solid #6b2f0a;
  border-radius: 12px;
  padding: 0.6rem 1.5rem;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
  box-shadow:
    inset 0 2px 3px rgba(255, 255, 255, 0.15),
    inset 0 -2px 3px rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.2);
}

.bdsp-blending .blending-options {
  margin-top: 0.75rem;
}

.blending-options {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1rem;
  padding: 1rem;
  background: #fff7e8;
  border-radius: 10px;
  border: 2px solid #d66020;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.option-row {
  display: flex;
  align-items: stretch;
  gap: 1rem;
  flex-wrap: wrap;
}

.option-group {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.option-group.inline {
  flex-direction: row;
  align-items: center;
  gap: 0.6rem;
}

.option-group label {
  font-weight: 600;
  color: #212121;
  font-size: 0.85rem;
  white-space: nowrap;
}

.option-group select {
  padding: 0.5rem 0.75rem;
  border: 2px solid #d66020;
  border-radius: 4px;
  font-size: 0.85rem;
  background: #fff;
  cursor: pointer;
  min-width: 200px;
  transition: all 0.2s;
}

.option-group select:focus {
  outline: none;
  border-color: #d66020;
  box-shadow: 0 0 0 3px rgba(214, 96, 32, 0.1);
}

/* Player Buttons */
.player-buttons {
  display: flex;
  gap: 0.4rem;
}

.player-buttons button {
  padding: 0.4rem 0.75rem;
  background: #fff7e8;
  border: 1px solid rgba(214, 96, 32, 0.5);
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.85rem;
  font-weight: 600;
  color: #6f6b78;
  transition: all 0.2s;
  min-width: 42px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.player-buttons button:hover:not(.active) {
  background: #fffdf7;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

.player-buttons button.active {
  background: #fffbf5;
  color: #0b0b0b;
  border-color: #d66020;
  border-width: 3px;
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 2px rgba(255, 255, 255, 0.5),
    0 0 0 2px rgba(214, 96, 32, 0.25);
}

/* Option Checkboxes */
.option-checkbox {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 0.35rem;
  cursor: pointer;
  padding: 0.45rem 0.6rem;
  background: #fff7e8;
  border-radius: 12px;
  border: 1px solid rgba(214, 96, 32, 0.5);
  transition: all 0.2s;
  flex: 1;
  min-height: 46px;
  position: relative;
}

.option-checkbox:hover {
  background: #fffdf7;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
  transform: translateY(-1px);
}

.option-checkbox:has(input:checked) {
  background: #fffbf5;
  border-color: var(--berry-accent);
  border-width: 3px;
  box-shadow:
    0 2px 5px rgba(0, 0, 0, 0.18),
    inset 0 1px 1px rgba(255, 255, 255, 0.5),
    0 0 0 2px rgba(214, 96, 32, 0.25);
}

.option-checkbox:has(input:checked):hover {
  background: #fff9f0;
  border-color: #d66020;
  border-width: 3px;
  box-shadow:
    0 3px 6px rgba(0, 0, 0, 0.16),
    0 0 0 2px rgba(214, 96, 32, 0.35);
}

.option-checkbox input[type="checkbox"] {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

.option-checkbox .toggle-track {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 28px;
  min-height: 28px;
  padding: 0;
  margin: 0;
  border: none;
  background: transparent;
  box-shadow: none;
  flex-shrink: 0;
  align-self: center;
}

.option-checkbox .toggle-check {
  font-size: 0.95rem;
  font-weight: 800;
  line-height: 1;
  color: #0b0b0b;
}

.option-checkbox .toggle-label {
  font-size: 0.9rem;
  color: #6f6b78;
  font-weight: 500;
  line-height: 1.3;
}

.option-checkbox:has(input:checked) .toggle-label {
  color: #2d2d2d;
  font-weight: 700;
}

/* Berry Kit Display */
.berry-kit {
  background: #fff7e8;
  padding: 1rem;
  border-radius: 10px;
  border: 2px solid #d66020;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.berry-kit h4 {
  margin: 0 0 0.75rem 0;
  font-size: 1rem;
  font-weight: 700;
  color: #d66020;
}

.kit-blocks {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  margin-bottom: 0.75rem;
}

.block-item {
  padding: 0.5rem 0.75rem;
  background: #fffbf5;
  border: 2px solid #d66020;
  border-radius: 10px;
  display: flex;
  gap: 0.75rem;
  align-items: center;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
}

.berry-icon {
  width: 32px;
  height: 32px;
  object-fit: contain;
  flex-shrink: 0;
  image-rendering: pixelated;
}

.block-content {
  display: grid;
  grid-template-columns: 140px 1fr auto;
  gap: 1rem;
  align-items: center;
  flex: 1;
}

.block-name {
  font-size: 0.9rem;
  font-weight: 700;
  color: #d66020;
}

.block-berry {
  font-size: 0.85rem;
  font-weight: 500;
  color: #424242;
}

.block-meta {
  font-size: 0.8rem;
  font-weight: 600;
  color: #757575;
  white-space: nowrap;
}

.kit-stats {
  display: grid;
  grid-template-columns: 3fr 1fr;
  gap: 0.75rem;
  padding-top: 0.5rem;
  border-top: 1px solid #e0e0e0;
}

.stat-row {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  font-size: 0.85rem;
  color: #000;
  flex-wrap: wrap;
  min-width: 0;
}

.stat-label {
  font-weight: 600;
  color: #212121;
  white-space: nowrap;
}

.stats {
  display: flex;
  flex-wrap: wrap;
  gap: 0.3rem;
  flex: 1;
  overflow-x: auto;
  padding-bottom: 0.15rem;
}

.stat {
  padding: 0.2rem 0.45rem;
  background: #f0f0f0;
  border-radius: 3px;
  font-size: 0.78rem;
  border: 1px solid #ddd;
  white-space: nowrap;
}

.stat.spicy { background: #ffe0e0; color: #c62828; }
.stat.dry { background: #e0f2ff; color: #0277bd; }
.stat.sweet { background: #fce4ec; color: #c2185b; }
.stat.bitter { background: #e8f5e9; color: #2e7d32; }
.stat.sour { background: #fff9c4; color: #f57f17; }
.stat.sheen { background: #e8ebff; color: #1e3a8a; border-color: #c7d2fe; }

.berry-blending .no-results {
  color: #424242;
  font-style: italic;
  margin: 0.75rem 0;
  font-size: 0.9rem;
  padding: 0.75rem;
  background: #fff7e8;
  border-left: 3px solid #d66020;
  border-radius: 10px;
  text-align: center;
}

/* Responsive */
@media (max-width: 768px) {
  .berry-blending {
    padding: 0.75rem;
  }

  .berry-mode-selector {
    flex-direction: column;
    border-bottom: none;
  }

  .berry-mode-selector .nav-arrow {
    display: none;
  }

  .berry-mode-selector button,
  .berry-mode-selector a {
    top: 0;
    border: 2px solid #757575;
    border-radius: 4px;
  }

  .berry-mode-selector button.active,
  .berry-mode-selector a.active {
    border: 2px solid #d66020;
  }

  .option-row {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
  }

  .option-group.inline {
    flex-direction: column;
    align-items: stretch;
  }

  .option-group select {
    width: 100%;
  }

  .block-item {
    flex-direction: row;
    gap: 0.5rem;
  }

  .block-content {
    grid-template-columns: 1fr;
    gap: 0.3rem;
  }

  .block-name {
    font-weight: 700;
  }

  .kit-stats {
    grid-template-columns: 1fr;
  }

  .stat-label {
    min-width: auto;
  }
}

/* Focus styles for accessibility */
.berry-mode-selector button:focus-visible,
.berry-mode-selector a:focus-visible,
.berry-blending .player-buttons button:focus-visible,
.berry-blending .option-checkbox input:focus-visible,
.berry-blending select:focus-visible {
  outline: 3px solid #d66020;
  outline-offset: 2px;
}

/* ORAS Color Mapping */
.oras-blending h3 {
  margin: -1.5rem -1.5rem 0 -1.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  color: #fff;
  background:
    linear-gradient(
      to bottom,
      transparent 0px,
      transparent 20px,
      rgba(214, 96, 32, 0.5) 20px,
      rgba(214, 96, 32, 0.5) 24px,
      transparent 24px,
      transparent 28px,
      rgba(214, 96, 32, 0.5) 28px,
      rgba(214, 96, 32, 0.5) 32px,
      transparent 32px,
      transparent 36px,
      rgba(214, 96, 32, 0.5) 36px,
      rgba(214, 96, 32, 0.5) 40px,
      transparent 40px,
      transparent 44px,
      rgba(214, 96, 32, 0.5) 44px,
      rgba(214, 96, 32, 0.5) 48px,
      transparent 48px,
      transparent 100%
    ),
    #f4d03f;
  border: none;
  border-bottom: 2px solid #d66020;
  padding: 0.6rem 1.5rem;
  letter-spacing: 0.02em;
  text-align: center;
}

.oras-blending h3 > span {
  display: inline-block;
  background:
    linear-gradient(to right,
      rgba(0, 0, 0, 0.3) 0%,
      rgba(0, 0, 0, 0) 8%,
      rgba(0, 0, 0, 0) 92%,
      rgba(0, 0, 0, 0.3) 100%),
    linear-gradient(135deg, #e8793e 0%, #d86830 50%, #c05528 100%);
  border: 3px solid #6b2f0a;
  border-radius: 12px;
  padding: 0.6rem 1.5rem;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
  box-shadow:
    inset 0 2px 3px rgba(255, 255, 255, 0.15),
    inset 0 -2px 3px rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.2);
}

.oras-blending .oras-info-card {
  margin-top: 0.75rem;
}

.oras-info-card {
  background: #fff7e8;
  padding: 1rem;
  border-radius: 10px;
  border: 2px solid #d66020;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.oras-info-card p {
  color: #424242;
  font-size: 0.9rem;
  line-height: 1.5;
  margin: 0 0 1rem 0;
}

.oras-info-card p:last-child {
  margin-bottom: 0;
}

.color-mapping-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  max-width: 400px;
  margin: 0 auto 1rem auto;
}

.color-mapping-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.6rem 0.75rem;
  background: #fffbf5;
  border-radius: 10px;
  border: 2px solid #d66020;
}

.color-label {
  font-weight: 700;
  font-size: 0.9rem;
  padding: 0.3rem 0.75rem;
  border-radius: 3px;
  min-width: 80px;
  text-align: center;
}

.color-label.spicy {
  background: #ffe0e0;
  color: #c62828;
  border: 1px solid #c62828;
}

.color-label.dry {
  background: #e0f2ff;
  color: #0277bd;
  border: 1px solid #0277bd;
}

.color-label.sweet {
  background: #fce4ec;
  color: #c2185b;
  border: 1px solid #c2185b;
}

.color-label.bitter {
  background: #e8f5e9;
  color: #2e7d32;
  border: 1px solid #2e7d32;
}

.color-label.sour {
  background: #fff9c4;
  color: #f57f17;
  border: 1px solid #f57f17;
}

.flavor-label {
  font-size: 0.9rem;
  color: #424242;
  font-weight: 500;
}

.stat-label-name {
  font-size: 0.9rem;
  color: #212121;
  font-weight: 600;
  margin-left: auto;
}

/* BDSP Poffin Groups */
.bdsp-set-group-wrapper {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
}

.bdsp-set-label {
  display: flex;
  align-items: center;
  justify-content: center;
  writing-mode: vertical-rl;
  text-orientation: mixed;
  background: #d66020;
  color: #fff;
  font-weight: 700;
  font-size: 0.9rem;
  padding: 0.5rem;
  border-radius: 8px;
  white-space: nowrap;
  align-self: stretch;
}

.bdsp-set-items {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.bdsp-set-items .block-content {
  grid-template-columns: 140px 1fr;
}

@media (prefers-color-scheme: dark) {
  :root:not(.theme-light) .berry-blending {
    color: #e6edf9;
    --berry-accent: #f0ad63;
    --berry-accent-strong: #d88c3f;
  }

  :root:not(.theme-light) .berry-header h2 {
    color: #e6edf9;
  }

  :root:not(.theme-light) .berry-header p {
    color: #cbd7ed;
  }

  :root:not(.theme-light) .berry-mode-selector {
    background: linear-gradient(135deg, #1f2b3f 0%, #151d2d 100%);
    border-color: var(--berry-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  }

  :root:not(.theme-light) .berry-mode-selector button,
  :root:not(.theme-light) .berry-mode-selector a {
    background: #0f1626;
    border-color: rgba(240, 173, 99, 0.7);
    color: #e6edf9;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.35);
  }

  :root:not(.theme-light) .berry-mode-selector button:hover:not(.active),
  :root:not(.theme-light) .berry-mode-selector a:hover:not(.active) {
    border-color: var(--berry-accent-strong);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  }

  :root:not(.theme-light) .berry-mode-selector button.active,
  :root:not(.theme-light) .berry-mode-selector a.active {
    background: linear-gradient(135deg, #d0711f 0%, #b35614 100%);
    color: #fff6eb;
    border-color: var(--berry-accent);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.45), inset 0 1px 2px rgba(255, 255, 255, 0.1);
  }

  :root:not(.theme-light) .berry-mode-selector .nav-arrow {
    color: var(--berry-accent);
  }

  :root:not(.theme-light) .berry-mode-selector .nav-arrow:hover {
    color: #f6c27c;
  }

  :root:not(.theme-light) .berry-mode-content {
    background:
      repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 8px,
        rgba(240, 173, 99, 0.08) 8px,
        rgba(240, 173, 99, 0.08) 9px
      ),
      linear-gradient(135deg, #0f1626 0%, #182338 100%);
    border-color: var(--berry-accent);
    box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.35);
  }

  :root:not(.theme-light) .berry-blending .hint,
  :root:not(.theme-light) .berry-blending .no-results {
    color: #d8e2f4;
    background: linear-gradient(135deg, #182339 0%, #1f2b45 100%);
    border-color: var(--berry-accent);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  }

  :root:not(.theme-light) .berry-coming-card,
  :root:not(.theme-light) .berry-kit,
  :root:not(.theme-light) .oras-info-card,
  :root:not(.theme-light) .color-mapping-item {
    background: #0f1626;
    border-color: var(--berry-accent);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.35);
  }

  :root:not(.theme-light) .blending-options {
    background: #0f1626;
    border-color: var(--berry-accent);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.35);
  }

  :root:not(.theme-light) .option-checkbox {
    background: #0f1626;
    border-color: rgba(240, 173, 99, 0.5);
  }

  :root:not(.theme-light) .berry-coming-card h3,
  :root:not(.theme-light) .block-name,
  :root:not(.theme-light) .berry-kit h4,
  :root:not(.theme-light) .stat-label,
  :root:not(.theme-light) .stat-label-name {
    color: var(--berry-accent);
  }

  :root:not(.theme-light) .berry-coming-card p,
  :root:not(.theme-light) .block-berry,
  :root:not(.theme-light) .block-meta,
  :root:not(.theme-light) .oras-info-card p,
  :root:not(.theme-light) .flavor-label,
  :root:not(.theme-light) .stat-row {
    color: #e6edf9;
  }

  :root:not(.theme-light) .option-row {
    gap: 0.75rem;
  }

  :root:not(.theme-light) .player-buttons button,
  :root:not(.theme-light) .option-group select {
    background: #0f1626;
    border-color: rgba(240, 173, 99, 0.5);
    color: #a9a3b8;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
  }

  :root:not(.theme-light) .player-buttons button:hover:not(.active) {
    background: #161f2c;
  }

  :root:not(.theme-light) .player-buttons button.active {
    background: #121b2d;
    color: #e6edf9;
    border-color: var(--berry-accent);
    border-width: 3px;
    box-shadow:
      0 2px 5px rgba(0, 0, 0, 0.3),
      inset 0 1px 1px rgba(255, 255, 255, 0.06),
      0 0 0 2px rgba(240, 173, 99, 0.2);
  }

  :root:not(.theme-light) .option-group label {
    color: #d8e2f4;
  }

  :root:not(.theme-light) .option-checkbox {
    background: #0f1626;
    border-color: rgba(240, 173, 99, 0.5);
  }

  :root:not(.theme-light) .option-checkbox:hover {
    background: #161f2c;
    border-color: var(--berry-accent);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.45);
  }

  :root:not(.theme-light) .option-checkbox:has(input:checked) {
    background: #121b2d;
    border-color: var(--berry-accent);
    border-width: 3px;
    box-shadow:
      0 2px 5px rgba(0, 0, 0, 0.18),
      inset 0 1px 1px rgba(255, 255, 255, 0.05),
      0 0 0 2px rgba(240, 173, 99, 0.2);
  }

  :root:not(.theme-light) .option-checkbox:has(input:checked):hover {
    background: #161f2c;
    border-color: var(--berry-accent);
    box-shadow:
      0 3px 10px rgba(0, 0, 0, 0.45),
      0 0 0 2px rgba(240, 173, 99, 0.3);
  }

  :root:not(.theme-light) .option-checkbox .toggle-label {
    color: #a9a3b8;
    font-weight: 500;
  }

  :root:not(.theme-light) .option-checkbox:has(input:checked) .toggle-label {
    color: #e6edf9;
    font-weight: 700;
  }

  :root:not(.theme-light) .block-item {
    background: #121b2d;
    border-color: var(--berry-accent);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
  }

  :root:not(.theme-light) .block-content {
    gap: 0.6rem;
  }

  :root:not(.theme-light) .kit-stats {
    border-top: 1px solid rgba(255, 255, 255, 0.08);
  }

  :root:not(.theme-light) .stat {
    border-color: rgba(255, 255, 255, 0.08);
    color: #e6edf9;
  }

  :root:not(.theme-light) .stat.spicy { background: #3b1919; color: #ffb3b3; border-color: #d16b6b; }
  :root:not(.theme-light) .stat.dry { background: #122438; color: #9ed2ff; border-color: #4b9bd8; }
  :root:not(.theme-light) .stat.sweet { background: #2f1a2b; color: #ffb1d4; border-color: #c85a96; }
  :root:not(.theme-light) .stat.bitter { background: #1c2d1f; color: #b3e6b8; border-color: #4c9a57; }
  :root:not(.theme-light) .stat.sour { background: #2e2c16; color: #f5e8a2; border-color: #b8a23e; }
  :root:not(.theme-light) .stat.sheen { background: #171e36; color: #c7d5ff; border-color: #7f91d8; }

  :root:not(.theme-light) .color-label {
    color: #f6f7fb;
  }

  :root:not(.theme-light) .color-label.spicy {
    background: #4a1f1f;
    border-color: #d16b6b;
  }

  :root:not(.theme-light) .color-label.dry {
    background: #1f3954;
    border-color: #4b9bd8;
  }

  :root:not(.theme-light) .color-label.sweet {
    background: #3c1f35;
    border-color: #c85a96;
  }

  :root:not(.theme-light) .color-label.bitter {
    background: #223825;
    border-color: #4c9a57;
  }

  :root:not(.theme-light) .color-label.sour {
    background: #464118;
    border-color: #b8a23e;
  }

  :root:not(.theme-light) .bdsp-set-label {
    background: var(--berry-accent);
    color: #1b1205;
  }
}

.theme-dark .berry-blending {
  color: #e6edf9;
  --berry-accent: #f0ad63;
  --berry-accent-strong: #d88c3f;
}

.theme-dark .berry-header h2 {
  color: #e6edf9;
}

.theme-dark .berry-header p {
  color: #cbd7ed;
}

.theme-dark .berry-mode-selector {
  background: linear-gradient(135deg, #1f2b3f 0%, #151d2d 100%);
  border-color: var(--berry-accent);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

.theme-dark .berry-mode-selector button,
.theme-dark .berry-mode-selector a {
  background: #0f1626;
  border-color: rgba(240, 173, 99, 0.7);
  color: #e6edf9;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.35);
}

.theme-dark .berry-mode-selector button:hover:not(.active),
.theme-dark .berry-mode-selector a:hover:not(.active) {
  border-color: var(--berry-accent-strong);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

.theme-dark .berry-mode-selector button.active,
.theme-dark .berry-mode-selector a.active {
  background: linear-gradient(135deg, #d0711f 0%, #b35614 100%);
  color: #fff6eb;
  border-color: var(--berry-accent);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.45), inset 0 1px 2px rgba(255, 255, 255, 0.1);
}

.theme-dark .berry-mode-selector .nav-arrow {
  color: var(--berry-accent);
}

.theme-dark .berry-mode-selector .nav-arrow:hover {
  color: #f6c27c;
}

.theme-dark .berry-mode-content {
  background:
    repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 8px,
      rgba(240, 173, 99, 0.08) 8px,
      rgba(240, 173, 99, 0.08) 9px
    ),
    linear-gradient(135deg, #0f1626 0%, #182338 100%);
  border-color: var(--berry-accent);
  box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.35);
}

.theme-dark .berry-blending .hint,
.theme-dark .berry-blending .no-results {
  color: #d8e2f4;
  background: linear-gradient(135deg, #182339 0%, #1f2b45 100%);
  border-color: var(--berry-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

.theme-dark .berry-coming-card,
.theme-dark .option-checkbox,
.theme-dark .berry-kit,
.theme-dark .oras-info-card,
.theme-dark .color-mapping-item {
  background: #0f1626;
  border-color: var(--berry-accent);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.35);
}

.theme-dark .blending-options {
  background: #2a3548;
  border-color: var(--berry-accent);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.35);
}

.theme-dark .berry-coming-card h3,
.theme-dark .block-name,
.theme-dark .berry-kit h4,
.theme-dark .stat-label,
.theme-dark .stat-label-name {
  color: var(--berry-accent);
}

.theme-dark .berry-coming-card p,
.theme-dark .block-berry,
.theme-dark .block-meta,
.theme-dark .oras-info-card p,
.theme-dark .flavor-label,
.theme-dark .stat-row {
  color: #e6edf9;
}

.theme-dark .option-row {
  gap: 0.75rem;
}

.theme-dark .player-buttons button,
.theme-dark .option-group select {
  background: #0f1626;
  border-color: rgba(240, 173, 99, 0.5);
  color: #a9a3b8;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
}

.theme-dark .player-buttons button:hover:not(.active) {
  background: #161f2c;
}

.theme-dark .player-buttons button.active {
  background: #121b2d;
  color: #e6edf9;
  border-color: var(--berry-accent);
  border-width: 3px;
  box-shadow:
    0 2px 5px rgba(0, 0, 0, 0.3),
    inset 0 1px 1px rgba(255, 255, 255, 0.06),
    0 0 0 2px rgba(240, 173, 99, 0.2);
}

.theme-dark .option-group label {
  color: #d8e2f4;
}

.theme-dark .option-checkbox {
  background: #0f1626;
  border-color: rgba(240, 173, 99, 0.5);
}

.theme-dark .option-checkbox:hover {
  background: #161f2c;
  border-color: var(--berry-accent);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.45);
}

.theme-dark .option-checkbox:has(input:checked) {
  background: #121b2d;
  border-color: var(--berry-accent);
  border-width: 3px;
  box-shadow:
    0 2px 5px rgba(0, 0, 0, 0.18),
    inset 0 1px 1px rgba(255, 255, 255, 0.05),
    0 0 0 2px rgba(240, 173, 99, 0.2);
}

.theme-dark .option-checkbox:has(input:checked):hover {
  background: #161f2c;
  border-color: var(--berry-accent);
  box-shadow:
    0 3px 10px rgba(0, 0, 0, 0.45),
    0 0 0 2px rgba(240, 173, 99, 0.3);
}

.theme-dark .option-checkbox .toggle-label {
  color: #a9a3b8;
  font-weight: 500;
}

.theme-dark .option-checkbox .toggle-check {
  color: #f6f9ff;
}

.theme-dark .option-checkbox:has(input:checked) .toggle-label {
  color: #e6edf9;
  font-weight: 700;
}

.theme-dark .block-item {
  background: #121b2d;
  border-color: var(--berry-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
}

.theme-dark .block-content {
  gap: 0.6rem;
}

.theme-dark .kit-stats {
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.theme-dark .stat {
  border-color: rgba(255, 255, 255, 0.08);
  color: #e6edf9;
}

.theme-dark .stat.spicy { background: #3b1919; color: #ffb3b3; border-color: #d16b6b; }
.theme-dark .stat.dry { background: #122438; color: #9ed2ff; border-color: #4b9bd8; }
.theme-dark .stat.sweet { background: #2f1a2b; color: #ffb1d4; border-color: #c85a96; }
.theme-dark .stat.bitter { background: #1c2d1f; color: #b3e6b8; border-color: #4c9a57; }
.theme-dark .stat.sour { background: #2e2c16; color: #f5e8a2; border-color: #b8a23e; }
.theme-dark .stat.sheen { background: #171e36; color: #c7d5ff; border-color: #7f91d8; }

.theme-dark .color-label {
  color: #f6f7fb;
}

.theme-dark .color-label.spicy {
  background: #4a1f1f;
  border-color: #d16b6b;
}

.theme-dark .color-label.dry {
  background: #1f3954;
  border-color: #4b9bd8;
}

.theme-dark .color-label.sweet {
  background: #3c1f35;
  border-color: #c85a96;
}

.theme-dark .color-label.bitter {
  background: #223825;
  border-color: #4c9a57;
}

.theme-dark .color-label.sour {
  background: #464118;
  border-color: #b8a23e;
}

.theme-dark .bdsp-set-label {
  background: var(--berry-accent);
  color: #1b1205;
}
